# TMA Studio - API Environment Variables
# Copy this file to .env and fill in the values

# Telegram Bot Configuration
# Get your bot token from @BotFather on Telegram
BOT_TOKEN=1234567890:ABCdefGHIjklMNOpqrsTUVwxyz

# Database Configuration
# Supabase Postgres connection string
# Format: postgresql://user:password@host:port/database
DATABASE_URL=postgresql://user:password@db.supabase.co:5432/postgres

# JWT Configuration
# Generate a secure random key: openssl rand -base64 32
JWT_SECRET=your-random-secret-key-min-32-chars
JWT_ALGORITHM=HS256
JWT_EXPIRATION_HOURS=24

# InitData Validation
# Maximum age of initData before rejection (in seconds)
# Development: 86400 (24 hours) - convenient for testing
# Production: 600 (10 minutes) - recommended for security
# IMPORTANT: Use 300-600 seconds in production to prevent replay attacks
INIT_DATA_MAX_AGE_SECONDS=600

# CORS Configuration
# MUST be explicit list (not "*") when allow_credentials=True
# Example: ["https://app.yourdomain.com"]
ALLOWED_ORIGINS=["http://localhost:4321"]

# Cookie Configuration
# Development: Leave COOKIE_DOMAIN empty for localhost
# Production: Use ".yourdomain.com" to share cookies between app.* and api.*
COOKIE_DOMAIN=
# Development: false (HTTP allowed)
# Production: MUST be true (HTTPS only)
COOKIE_SECURE=false
# Development: "lax" works for same-site
# Production: Use "none" for cross-domain cookies (requires Secure=true)
COOKIE_SAMESITE=lax
# Cookie expiration in seconds (86400 = 24 hours)
COOKIE_MAX_AGE=86400
